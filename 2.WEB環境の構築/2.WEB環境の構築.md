2.WEB環境の構築<br>
2-1.Apache　サーバーの構築<br>
（step1）<br>
sudo apt update<br>
sudo apt install apache2<br>
必要に応じて[Y]を入力<br>
sudo ufw app list<br>

（step2）Ubuntu20.04 ではPHP8.0を選択<br>
sudo add-apt-repository ppa:ondrej/php<br>
sudo apt update<br>
sudo apt install php8.0<br>
必要に応じて[Y]を入力<br>

（step3）<br>
sudo su<br>
apt search php8.0-*<br>
apt-get install php8.0-fpm php8.0-cli php8.0-bz2 php8.0-curl php8.0-gd php8.0-intl php8.0-mbstring php8.0-pgsql php8.0-sqlite3 php8.0-xml php8.0-ldap<br>
必要に応じて[Y]を入力<br>

（step4）php8.0-json を明示する必要があるよう<br>
sudo su<br>
apt-get install libapache2-mod-php8.0<br>

2-2.Webminをインストール<br>
（step1）<br>
sudo apt update<br>
sudo nano /etc/apt/sources.list<br>

（step2）<br>
下記をファイルに追加<br>
deb http://download.webmin.com/download/repository sarge contrib<br>

（step3）<br>
wget -q -O- http://www.webmin.com/jcameron-key.asc | sudo apt-key add<br>
sudo apt update<br>
sudo apt install webmin<br>
必要に応じて[Y]を入力<br>

（step4）ファイアウォールを設定<br>
sudo ufw allow 10000<br>
 
2-3. Encrypt（SSL）導入<br>
（SSLをインストール）<br>
sudo a2enmod ssl<br>
sudo a2ensite default-ssl<br>
sudo service apache2 restart<br>

（Install Certbot Snap）<br>
sudo snap install core<br>
sudo snap refresh core<br>
sudo apt -y remove certbot<br>
sudo snap install --classic certbot<br>
sudo ln -s /snap/bin/certbot /usr/bin/certbot<br>
（Install Certificates from Let's Encrypt）<br>
sudo certbot –apache<br>
（ドメイン入力）<br>
lizmap.yamakun.net　を入力<br>

2-4.Webminを利用<br>

https:// server-ip:10000/<br>
でアクセスすると安全ではないといわれるが無視！して接続する。<br>
 ![image006](https://user-images.githubusercontent.com/86514652/174401813-5b4ad211-2ab1-4c3e-8561-def64ac9dc9e.png)


そもそもrootパスワード設定した記憶がない・・・<br>

sudo su<br>
passwd<br>

でパスワードを設定<br>
Username:root　　Password：設定したパスワード<br>


ここまでくればあとは簡単！<br>
一応日本語化までを説明<br>
・「Change Language and Theme」をクリック<br>
 ![image007](https://user-images.githubusercontent.com/86514652/174401866-f894dd5f-7a7e-4603-aeaa-8b341c0fa5b2.png)

・「WebminConfiguration」＞「language and Locale」で「日本語」を選択<br>
 ![image008](https://user-images.githubusercontent.com/86514652/174401898-b4c0e7ba-6c11-4ecd-bef9-b44090cb1513.png)


完成です！<br>
システム時間を　「Asia/Tokyo」になっているかは再度確認。<br>
なっていないと，おや～～と思うことが発生します。<br>
 ![image009](https://user-images.githubusercontent.com/86514652/174401933-8c65d0f4-552d-4329-835b-71c0f68d8162.png)

 
2-5.ProFTPDの設定<br>

Webminよりインストール<br>
　未使用のモジュール　＞　ProFTPDサーバー　＞　InstallNow　　＞　InstallNow<br>

　 ![image010](https://user-images.githubusercontent.com/86514652/174402087-56c59192-f77b-4e48-a2f0-fb2fadd5e23c.png)


　サーバー　＞　ProFTPDサーバー　＞　各種設定が可能となっている<br>
 ![image011](https://user-images.githubusercontent.com/86514652/174402121-77a4c827-d239-46cd-92c9-3372b14e35f9.png)

ユーザーを作成<br>
　システム　＞　ユーザーおよびグループ<br>
　新しいユーザーを作成　＞　ユーザー名を「lizmapcloud」と入力<br>
　　　　　　　　　　　　　　ホームディレクトリ「/var/www/lizmap/lizmapcloud」<br>
　　　　　　　　　　　　　　パスワード「任意に入力」<br>
所属するグループ-既存グループから「www-data」を選択<br>
　　　　　　　　　　　　＞作成<br>
